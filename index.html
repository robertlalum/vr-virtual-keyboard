  <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>WebXR Virtual Keyboard + Pointer</title>
    <meta name="description" content="VR Virtual Keyboard" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        font-family: sans-serif;
        background-color: #000;
        color: white;
        text-align: center;
      }

      #enterVR {
        margin-top: 10px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #0078ff;
        border: none;
        color: white;
        border-radius: 10px;
        cursor: pointer;
      }

      .keyboard {
        display: inline-block;
        margin-top: 10px;
        background: #111;
        border: 2px solid #444;
        border-radius: 10px;
        padding: 10px;
      }

      .key {
        display: inline-block;
        width: 40px;
        height: 40px;
        margin: 3px;
        border: none;
        border-radius: 5px;
        background: #333;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: background 0.2s;
      }

      .key:hover {
        background: #555;
      }

      textarea {
        width: 80%;
        height: 100px;
        margin-top: 20px;
        border-radius: 10px;
        border: 1px solid #555;
        background: #222;
        color: white;
        padding: 10px;
        font-size: 16px;
      }
    </style>
  </head>

  <body>
    <h2>Press this to enter VR mode</h2>
    <button id="enterVR">Enter VR</button>

    <textarea id="textBox" placeholder="Type here..."></textarea>

    <!-- Keyboard layout -->
    <div class="keyboard">
      <div>
        <button class="key" data-key="1">1</button>
        <button class="key" data-key="2">2</button>
        <button class="key" data-key="3">3</button>
        <button class="key" data-key="4">4</button>
        <button class="key" data-key="5">5</button>
        <button class="key" data-key="6">6</button>
        <button class="key" data-key="7">7</button>
        <button class="key" data-key="8">8</button>
        <button class="key" data-key="9">9</button>
        <button class="key" data-key="0">0</button>
      </div>
      <div>
        <button class="key" data-key="q">Q</button>
        <button class="key" data-key="w">W</button>
        <button class="key" data-key="e">E</button>
        <button class="key" data-key="r">R</button>
        <button class="key" data-key="t">T</button>
        <button class="key" data-key="y">Y</button>
        <button class="key" data-key="u">U</button>
        <button class="key" data-key="i">I</button>
        <button class="key" data-key="o">O</button>
        <button class="key" data-key="p">P</button>
      </div>
      <div>
        <button class="key" data-key="a">A</button>
        <button class="key" data-key="s">S</button>
        <button class="key" data-key="d">D</button>
        <button class="key" data-key="f">F</button>
        <button class="key" data-key="g">G</button>
        <button class="key" data-key="h">H</button>
        <button class="key" data-key="j">J</button>
        <button class="key" data-key="k">K</button>
        <button class="key" data-key="l">L</button>
      </div>
      <div>
        <button class="key" data-key="z">Z</button>
        <button class="key" data-key="x">X</button>
        <button class="key" data-key="c">C</button>
        <button class="key" data-key="v">V</button>
        <button class="key" data-key="b">B</button>
        <button class="key" data-key="n">N</button>
        <button class="key" data-key="m">M</button>
      </div>
      <div>
        <button class="key" data-key=" ">Space</button>
        <button class="key" data-key="backspace">←</button>
        <button class="key" data-key="enter">⏎</button>
      </div>
    </div>

    <!-- A-Frame VR Scene -->
    <a-scene>
      <a-entity position="0 1.6 0">
        <a-camera></a-camera>
      </a-entity>
    </a-scene>

    <!-- Script for Keyboard Logic -->
    <script>
      const keys = document.querySelectorAll('.key');

      keys.forEach(key => {
        key.addEventListener('click', () => {
          const value = key.dataset.key;
          const textarea = document.querySelector('#textBox');
          const start = textarea.selectionStart;
          const end = textarea.selectionEnd;

          if (value === 'backspace') {
            textarea.value = textarea.value.slice(0, start - 1) + textarea.value.slice(end);
            textarea.selectionStart = textarea.selectionEnd = start - 1;
          } else if (value === 'enter') {
            textarea.value = textarea.value.slice(0, start) + "\n" + textarea.value.slice(end);
            textarea.selectionStart = textarea.selectionEnd = start + 1;
          } else {
            textarea.value = textarea.value.slice(0, start) + value + textarea.value.slice(end);
            textarea.selectionStart = textarea.selectionEnd = start + value.length;
          }

          textarea.focus();
        });
      });

      document.querySelector('#enterVR').addEventListener('click', () => {
        const scene = document.querySelector('a-scene');
        scene.enterVR();
      });
    </script>
  </body>
</html>

  


